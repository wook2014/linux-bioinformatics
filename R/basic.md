# R初学习

R 语言是为数学研究工作者设计的一种数学编程语言，主要用于统计分析、绘图、数据挖掘。  
R 语言与 C 语言都是贝尔实验室的研究成果，但两者有不同的侧重领域，R 语言是一种解释型的面向数学理论研究工作者的语言，而 C 语言是为计算机软件工程师设计的。  
R 语言是解释运行的语言（与 C 语言的编译运行不同），它的执行速度比 C 语言慢得多，不利于优化。但它在语法层面提供了更加丰富的数据结构操作并且能够十分方便地输出文字和图形信息，所以它广泛应用于数学尤其是统计学领域。

+ R 语言特点
	+ R 语言环境软件属于 GNU 开源软件，兼容性好、使用免费
	+ 语法十分有利于复杂的数学运算
	+ 数据类型丰富，包括向量、矩阵、因子、数据集等常用数据结构
	+ 代码风格好，可读性强

+ 变量
R 语言的有效的变量名称由字母，数字以及点号 . 或下划线 _ 组成，变量名称不得以数字开头。

## 基本操作
1.变量赋值
```R
# 注意：R 语言赋值使用的是左箭头 <- 符号，不过一些新版本也支持等号 =。
myString <- "Hello, World!"

# 查看已定义的变量使用 ls() 函数：
print(ls())

# 删除变量使用 rm() 函数：
rm(var.3)
```

2.输入输出
+ print() 输出
```R
# print() 是 R 语言的输出函数。
print("RUNOOB")
print(123)
```

+ cat() 函数
```R
# 输出结果的拼接使用 cat() 函数
print("RUNOOB")
cat(1, "加", 1, "等于", 2, '\n') 	# 1 加 1 等于 2
```

+ 输出内容到文件
```R
# cat() 函数支持直接输出结果到文件
# 这个语句不会在控制台产生结果，而是把 "RUNOOB" 输出到 "/Users/runoob/runoob-test/r_test.txt" 文件中去。file 参数可以是绝对路径或相对路径，建议使用绝对路径，
cat("RUNOOB", file="/Users/runoob/runoob-test/r_test.txt")
cat("RUNOOB", file="D:\\r_test.txt")
# 注意：这个操作是"覆盖写入"操作，请谨慎使用，因为它会将输出文件的原有数据清除。如果想"追加写入"，请不要忘记设置 append 参数：
cat("GOOGLE", file="/Users/runoob/runoob-test/r_test.txt", append=TRUE)

# sink() 函数可以把控制台输出的文字直接输出到文件中去：
# 注意：这个操作也是"覆盖写入"操作，会直接清除原有的文件内容。如果我们依然像保留控制台的输出，可以设置 split 属性：
sink("/Users/runoob/runoob-test/r_test.txt", split=TRUE)

# 如果想取消输出到文件，可以调用无参数的 sink ：
sink()
```

+ 从文件读入文字
```R
# 如果纯粹的想将某个文件中的内容读取为字符串，可以使用 readLines 函数：
readLines("/Users/runoob/runoob-test/r_test.txt")
# 注意：所读取的文本文件每一行 (包括最后一行) 的结束必须有换行符，否则会报错。
```

3.工作目录
```R
# 当前工作目录
print(getwd())

# 设置当前工作目录
setwd("/Users/runoob/runoob-test2")
```

## 数学函数
数学函数 |	说明
:--: | :--:
sqrt(n)	 |	n的平方根
exp(n)	 |	自然常数e的n次方，
log(m,n) |	n的对数函数，返回n的几次方等于m
log10(m) |	相当于log(m,10)
round(n, m) |	对 n 保留 m 位小数四舍五入
ceiling	(n) |	对 n 向上取整
floor(n) |	对 n 向下取整


## 数据类型
数据类型指的是用于声明不同类型的变量或函数的一个广泛的系统。变量的类型决定了变量存储占用的空间，以及如何解释存储的位模式。

R 语言中的最基本数据类型主要有三种：
+ 数字
	+ 一般型：123 -0.125
	+ 科学计数法：1.23e2 -1.25E-1
+ 逻辑
逻辑类型在许多其他编程语言中常称为布尔型（Boolean），常量值只有 TRUE 和 FALSE。
注意：R 语言区分大小写，true 或 True 不能代表 TRUE。

+ 文本
最直观的数据类型就是文本类型。文本就是其它语言中常出现的字符串（String），常量用双引号包含。在 R 语言中，文本常量既可以用单引号包含，也可以用双引号包含，

按对象类型来分是以下 6 种：
+ 向量（vector）
+ 列表（list）
+ 矩阵（matrix）
+ 数组（array）
+ 因子（factor)
+ 数据框（data.frame)

### 向量

向量从数据结构上看就是一个线性表，可以看成一个数组。R 语言中向量作为一种类型存在可以让向量的操作变得更加容易。

+ c() 是一个创造向量的函数。
```R
a = c(10, 20, 30, 40, 50)
>a[1:4] # 取出第 1 到 4 项，包含第 1 和第 4 项
[1] 10 20 30 40
> a[c(1, 3, 5)] # 取出第 1, 3, 5 项
[1] 10 30 50
> a[c(-1, -5)] # 去掉第 1 和第 5 项
[1] 20 30 40
```

+ 向量统计
R 中有十分完整的统计学函数：

函数名 | 含义
:--: | :--:
sum	 | 求和
mean	 | 求平均值
var	 | 方差
sd	 | 标准差
min	 | 最小值
max	 | 最大值
range	 | 取值范围（二维向量，最大值和最小值）


+ 向量生成
向量的生成可以用 c() 函数生成，也可以用 min:max 运算符生成连续的序列。如果想生成有间隙的等差数列，可以用 seq 函数：
```R
> seq(1, 9, 2)
[1] 1 3 5 7 9

#seq 还可以生成从 m 到 n 的等差数列，只需要指定 m, n 以及数列的长度：
> seq(0, 1, length.out=3)
[1] 0.0 0.5 1.0

```
+ 空值
向量中常会用到 NA 和 NULL ，这里介绍一下这两个词语与区别：  
NA 代表的是"缺失"，NULL 代表的是"不存在"。NA 缺失就想占位符，代表这里没有一个值，但位置存在。NULL 代表的就是数据不存在。
```R
> length(c(NA, NA, NULL))
[1] 2
> c(NA, NA, NULL, NA)
[1] NA NA NA
# 很显然， NULL 在向量中没有任何意义。
```
### 字符串

```R
#字符串数据类型本身并不复杂，主要字符串的操作函数：
> toupper("Runoob") # 转换为大写
[1] "RUNOOB"
> tolower("Runoob") # 转换为小写
[1] "runoob"
> nchar("中文", type="bytes") # 统计字节长度
[1] 4
> nchar("中文", type="char") # 总计字符数量
[1] 2
> substr("123456789", 1, 5) # 截取字符串，从 1 到 5
[1] "12345"
> substring("1234567890", 5) # 截取字符串，从 5 到结束
[1] "567890"
> as.numeric("12") # 将字符串转换为数字
[1] 12
> as.character(12.34) # 将数字转换为字符串
[1] "12.34"
> strsplit("2019;10;1", ";") # 分隔符拆分字符串
[[1]]
[1] "2019" "10"   "1"
> gsub("/", "-", "2019/10/1") # 替换字符串
[1] "2019-10-1"
```


### 矩阵
+ 矩阵的生成
```R
> vector=c(1, 2, 3, 4, 5, 6)
> matrix(vector, 2, 3)
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

# 向量中的值会一列一列的填充到矩阵中。如果想按行填充，需要指定 byrow 属性：
> m1 = matrix(vector, 2, 3, byrow=TRUE)
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
```

+ 行列名称设定
```R
矩阵每一个列和每一行都可以设定名称，这个过程通过字符串向量批量完成
> colnames(m1) = c("x", "y", "z")
> rownames(m1) = c("a", "b")
> m1
  x y z
a 1 2 3
b 4 5 6
```


















