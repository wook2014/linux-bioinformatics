# shell编程基础

## 编程起步

### 脚本结构
+ #! 调用shell（指定执行脚本的shell）。
+ # 进行注释。
+ 命令和控制结构。
+ shell 命令，可以按照分号分隔，也可以按照换行符分隔。
+ 如果想在一行中写入多个命令，可以通过分号（;）分隔。


### 调用shell
在向脚本中添加任何其他内容之前，用户需要告诉系统将要启动一个shell 脚本。

使用shebang 结构，如：#!/bin/bash 告诉系统接下来的命令由bash shell 执行。shebang 是因为# 称为hash，! 称为bang。


### 特殊字符
+ \# 用于注释
+ '' 被引起的字符全部做普通字符，即全部原样echo 'my $SHELL'
+ "" 引号内的内容，除$、转义符\、倒引号`这三个保留特殊功能，其他字符均做普通字符。
+ `` (数字1键旁边的那个键）引号内的字符串当做shell命令行解释执行（同样的功能也可以使用$()来使用），得到的结果取代整个倒引号括起来的部分。
+ \ 反斜线是转义字符，它能把特殊字符变成普通字符。在某个字符前面利用反斜杠（\）能够阻止shell把后面的字符解释为特殊字符。
+ $( ) 可以将命令替换输出赋值给变量
+ {} 通过括号扩展可以生成需要的字串，括号中可以包含连续的序列或使用逗号分隔的多个项目，连续的序列包括一个起点和一个终点

### 变量

#### 1. 系统环境变量
在 Shell 脚本中可以直接访问系统中的环境变量，以获取相关的系统信息（如计算机名称，当前登录用户的账户名、 UID 和主目录等）。其值不随shell 脚本的执行结束而消失。

在bash shell 中，默认情况下将变量视作文本字符串。通过在变量名前加一个美元符号$ 来访问该变量的值。
```bash
#!/bin/bash

echo User info for userid: $USER
echo UID: $UID
echo HOME: $HOME
```
PS：由于在 Shell 脚本中，$ 作为变量的前缀符，所以当需要在文本输出中显示 $ 时，应使用转义。


#### 2. 用户自定义变量
Shell 脚本允许用户自行定义和使用变量，这样就可以将脚本中用到的数据临时存储在指定的变量中，使用时再通过 $变量名 的形式获取。

+ 变量赋值：var=value （注意 = 号两边不能有空格，即 var = value 是错误的）
+ 变量使用：$var

PS：Shell 脚本中的变量名区分大小写;Shell 脚本会自动判断变量值的数据类型;变量的有效性贯穿脚本的整个生命周期，即脚本执行完毕后变量会自行删除

```bash
#!/bin/bash

days=10
guest="Katie"
echo "$guest checked in $days days ago"
```



